window.gLocalAssetContainer["number"] = function(g) { (function(exports, require, module, __filename, __dirname) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Number=void 0;class Number extends g.E{constructor(t){super(t),this.scene=t.scene,this.imgNumber=this.scene.asset.getImageById(t.assetId),this.w=this.imgNumber.width/10,this.h=this.imgNumber.height,this.maxDigit=t.maxDigit,this.pitch=this.w,this.zero=!1,this.showNum=0,this.nextNum=0,this.changeFrame=g.game.fps,this.changeFrameCnt=this.changeFrame,t.pitch&&(this.pitch=t.pitch),t.zero&&(this.zero=t.zero),"center"!==t.align&&"right"!==t.align?this.align="left":this.align=t.align,this.fSprite=new Array(this.maxDigit),this.createEntity()}get nowScore(){return this.showNum>this.nextNum?this.showNum:this.nextNum}createEntity(){for(let t=0;t<this.maxDigit;t++)this.fSprite[t]=new g.FrameSprite({scene:this.scene,src:this.imgNumber,width:this.w,height:this.h,anchorX:0,anchorY:0,srcWidth:this.w,srcHeight:this.h,frames:[0,1,2,3,4,5,6,7,8,9],x:this.pitch*(this.maxDigit-1-t),y:0}),this.append(this.fSprite[t]);this.width=this.pitch*(this.maxDigit-1)+this.w,this.modified()}setNumber(t){this.showNum=t;let i=t,h=0;this.zero?h=this.maxDigit:t>0&&(h=Math.floor(Math.log(t)*Math.LOG10E)),this.width=this.pitch*h+this.w;for(let t=0;t<this.maxDigit;t++)"left"===this.align?this.fSprite[t].x=this.pitch*(h-t):"center"===this.align&&(this.fSprite[t].x=this.pitch*(h-t)+this.pitch/2),this.fSprite[t].frameNumber=i%10,this.fSprite[t].modified(),0===t||0!=i||this.zero?this.fSprite[t].show():this.fSprite[t].hide(),i=Math.floor(i/10);this.modified}setNext(t){this.nextNum=t,this.changeFrameCnt=this.changeFrame}change(){const t=this.nextNum-this.showNum;if(t<=0)return;const i=Math.max(Math.floor(t/this.changeFrameCnt),1);this.changeFrameCnt--,this.setNumber(this.showNum+i)}}exports.Number=Number;
})(g.module.exports, g.module.require, g.module, g.filename, g.dirname);
}